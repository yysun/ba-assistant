{
  "version": 3,
  "sources": ["../../pages/prompts/index.tsx"],
  "sourcesContent": ["import { app, Component } from 'apprun';\nimport { Prompt, promptService } from '../_data/prompts';\n\ntype State = {\n  prompts: Prompt[];\n  editing?: Prompt;\n}\n\nexport default class Prompts extends Component<State> {\n  state = async () => {\n    const prompts = await promptService.loadPrompts();\n    return { prompts, editing: undefined };\n  }\n\n  update = {\n    'new-prompt': async (state: State) => ({\n      ...state,\n      editing: { id: '', name: '', text: '' }\n    }),\n\n    'save-prompt': async (state: State, prompt: Prompt) => {\n      if (!prompt.id) {\n        await promptService.createPrompt(prompt.name, prompt.text);\n      } else {\n        await promptService.updatePrompt(prompt);\n      }\n      const prompts = await promptService.loadPrompts();\n      return { prompts, editing: undefined };\n    },\n\n    'edit-prompt': async (state: State, prompt: Prompt) => ({\n      ...state,\n      editing: { ...prompt }\n    }),\n\n    'delete-prompt': async (state: State, id: string) => {\n      await promptService.deletePrompt(id);\n      const prompts = await promptService.loadPrompts();\n      return { prompts };\n    },\n\n    'cancel-edit': (state: State) => ({\n      ...state,\n      editing: undefined\n    })\n  }\n\n  view = (state: State) => {\n    return <div class=\"p-6\">\n      <div class=\"flex items-center justify-between mb-6\">\n        <h1>Prompts</h1>\n        <button\n          $onclick=\"new-prompt\"\n          class=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-xs font-medium text-white bg-blue-600 hover:bg-blue-700\"\n        >\n          New Prompt\n        </button>\n      </div>\n\n      {state.editing && <div class=\"bg-white dark:bg-gray-800 rounded-xl shadow-lg p-6 border dark:border-gray-700 mb-6\">\n        <h3 class=\"text-xs font-medium text-gray-900 dark:text-white mb-4\">\n          {state.editing.id ? 'Edit Prompt' : 'New Prompt'}\n        </h3>\n        <div class=\"space-y-4\">\n          <div>\n            <label class=\"block font-medium text-gray-700 dark:text-gray-200 mb-2\">\n              Prompt Name\n            </label>\n            <input\n              type=\"text\"\n              placeholder=\"Enter prompt name\"\n              value={state.editing.name}\n              onchange={(e) => state.editing.name = e.target.value}\n              class=\"block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-xs font-medium\"\n            />\n          </div>\n          <div>\n            <label class=\"block font-medium text-gray-700 dark:text-gray-200 mb-2\">\n              Prompt Text\n            </label>\n            <textarea\n              placeholder=\"Enter prompt text\"\n              value={state.editing.text}\n              onchange={e => state.editing.text = e.target.value}\n              class=\"block w-full px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md bg-white dark:bg-gray-700 text-gray-900 dark:text-gray-100 placeholder-gray-500 dark:placeholder-gray-400 focus:outline-none focus:ring-1 focus:ring-blue-500 focus:border-blue-500 text-xs font-medium h-32 resize-none\"\n            />\n          </div>\n          <div class=\"flex gap-2 justify-end mt-4\">\n            <button\n              $onclick={['save-prompt', state.editing]}\n              class=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-xs font-medium text-white bg-blue-600 hover:bg-blue-700\"\n            >\n              Save\n            </button>\n            <button\n              $onclick=\"cancel-edit\"\n              class=\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-xs font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\"\n            >\n              Cancel\n            </button>\n          </div>\n        </div>\n      </div>}\n\n      <div class=\"space-y-4\">\n        {state.prompts.map(prompt => <div key={prompt.id}\n          class=\"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-6 border dark:border-gray-700\"\n        >\n          <div class=\"flex items-center justify-between mb-2\">\n            <h4 class=\"font-medium text-gray-900 dark:text-white\">{prompt.name}</h4>\n            <div class=\"flex gap-2\">\n              <button\n                $onclick={['edit-prompt', prompt]}\n                class=\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-xs font-medium text-gray-700 dark:text-gray-200 bg-white dark:bg-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600\"\n              >\n                Edit\n              </button>\n              <button\n                $onclick={['delete-prompt', prompt.id]}\n                class=\"inline-flex items-center px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-xs font-medium text-red-700 dark:text-red-200 bg-white dark:bg-gray-700 hover:bg-red-50 dark:hover:bg-red-900/20\"\n              >\n                Delete\n              </button>\n            </div>\n          </div>\n          <p class=\"text-gray-600 dark:text-gray-300 text-xs whitespace-pre-wrap\">{prompt.text}</p>\n        </div>)}\n      </div>\n    </div>\n  }\n}\n"],
  "mappings": "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",
  "names": []
}
