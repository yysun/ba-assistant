{
  "version": 3,
  "sources": ["../pages/layout.tsx", "../pages/main.tsx", "../pages/_main.tsx"],
  "sourcesContent": ["import { app, Component } from 'apprun';\n\nconst menuItems = [\n  {\n    path: '/',\n    label: 'Home',\n    icon: <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\" />\n  },\n  {\n    path: '/prompts',\n    label: 'Prompts',\n    icon: <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M4 5a1 1 0 011-1h14a1 1 0 011 1v2a1 1 0 01-1 1H5a1 1 0 01-1-1V5zM4 13a1 1 0 011-1h6a1 1 0 011 1v6a1 1 0 01-1 1H5a1 1 0 01-1-1v-6zM16 13a1 1 0 011-1h2a1 1 0 011 1v6a1 1 0 01-1 1h-2a1 1 0 01-1-1v-6z\" />\n  },\n  {\n    path: '/settings',\n    label: 'Settings',\n    icon: <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M10.325 4.317c.426-1.756 2.924-1.756 3.35 0a1.724 1.724 0 002.573 1.066c1.543-.94 3.31.826 2.37 2.37a1.724 1.724 0 001.065 2.572c1.756.426 1.756 2.924 0 3.35a1.724 1.724 0 00-1.066 2.573c.94 1.543-.826 3.31-2.37 2.37a1.724 1.724 0 00-2.572 1.065c-.426 1.756-2.924 1.756-3.35 0a1.724 1.724 0 00-2.573-1.066c-1.543.94-3.31-.826-2.37-2.37a1.724 1.724 0 00-1.065-2.572c-1.756-.426-1.756-2.924 0-3.35a1.724 1.724 0 001.066-2.573c-.94-1.543.826-3.31 2.37-2.37.996.608 2.296.07 2.572-1.065z M15 12a3 3 0 11-6 0 3 3 0 016 0z\" />\n  }\n];\n\nconst getSystemDarkMode = () =>\n  window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;\n\n\nexport default class Layout extends Component {\n  state = {\n    sidebarOpen: false,\n    darkMode: getSystemDarkMode(),\n  };\n\n  update = {\n    '//': state => ({ ...state, children: [] }),\n    'toggle-sidebar': state => {\n      const main = document.getElementById('main-app') as HTMLElement;\n      const children = Array.from(main?.children || []);\n      return { ...state, sidebarOpen: !state.sidebarOpen, children };\n    },\n\n    'toggle-dark-mode': state => {\n      const main = document.getElementById('main-app') as HTMLElement;\n      const children = Array.from(main?.children || []);\n      return { ...state, darkMode: !state.darkMode, children };\n    },\n  };\n\n  view = (state) => {\n    const pathname = window.location.pathname;\n    const isActive = (path) => {\n      return (path === '/') ? pathname === path : pathname.startsWith(path);\n    };\n    return (\n      <div class={`${state.darkMode ? 'dark': '' } min-h-screen font-[-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,Oxygen,Ubuntu,Cantarell,'Open Sans','Helvetica Neue',sans-serif] dark:bg-gray-900 bg-gray-50 transition-colors duration-200`}>\n        {/* Sidebar */}\n        <div id=\"sidebar\" class={`fixed inset-y-0 left-0 ${state.sidebarOpen ? 'w-64' : 'w-14'} bg-white dark:bg-gray-800 border-r border-gray-200 dark:border-gray-700 transition-all duration-200 ease-in-out z-10 flex flex-col`}>\n          {/* App Logo */}\n          <div class=\"flex items-center p-4 border-b border-gray-200 dark:border-gray-700 h-14 relative overflow-hidden\">\n            <div class={`absolute inset-0 p-4 flex items-center transition-all duration-200 ${state.sidebarOpen ? 'opacity-100 translate-x-0' : 'opacity-0 -translate-x-4'}`}>\n              <span class=\"text-gray-900 dark:text-white whitespace-nowrap\">BA Assistant</span>\n            </div>\n            <div class={`absolute inset-0 p-4 flex items-center transition-all duration-200 ${state.sidebarOpen ? 'opacity-0 translate-x-4' : 'opacity-100 translate-x-0'}`}>\n              <span class=\"text-gray-900 dark:text-white\">BA</span>\n            </div>\n          </div>\n\n          {/* Navigation Links */}\n          <nav class=\"flex-1 py-4\">\n            {menuItems.map(item => (\n              <a\n                href={item.path}\n                class={`relative flex items-center mx-2 p-2 text-xs rounded-lg ${\n                  isActive(item.path)\n                    ? 'text-white dark:text-blue-400 bg-black dark:bg-blue-900/50'\n                    : 'text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700'\n                }`}\n              >\n                <div class=\"w-6 h-6 flex items-center justify-center\">\n                  <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                    {item.icon}\n                  </svg>\n                </div>\n                <span class={`menu-label ml-3 ${state.sidebarOpen ? '' : 'hidden'}`}>{item.label}</span>\n              </a>\n            ))}\n          </nav>\n\n          {/* Dark Mode Toggle */}\n          <div class=\"py-2\">\n            <a\n              $onclick=\"toggle-dark-mode\"\n              class=\"relative flex items-center mx-2 p-2 text-xs rounded-lg text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700\"\n            >\n              <div class=\"w-6 h-6 flex items-center justify-center\">\n                <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  {state.darkMode ? (\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z\" />\n                  ) : (\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z\" />\n                  )}\n                </svg>\n              </div>\n              <span class={`menu-label ml-3 ${state.sidebarOpen ? '' : 'hidden'}`}>Toggle Theme</span>\n            </a>\n          </div>\n\n          {/* Toggle Button */}\n          <button\n            $onclick=\"toggle-sidebar\"\n            class=\"flex items-center text-left text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white hover:bg-gray-100 dark:hover:bg-gray-700 p-4 border-t border-gray-200 dark:border-gray-700\"\n          >\n            <svg class=\"w-5 h-5\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n              {state.sidebarOpen ? (\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M15 19l-7-7 7-7\" />\n              ) : (\n                <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M9 5l7 7-7 7\" />\n              )}\n            </svg>\n          </button>\n        </div>\n\n        {/* Main Content */}\n        <div id=\"main-content\" class={`${state.sidebarOpen ? 'ml-64' : 'ml-14'} flex-1 h-screen overflow-y-auto transition-all duration-200 bg-gray-50 dark:bg-gray-900`}>\n          <main id=\"main-app\">\n            {state.children}\n          </main>\n        </div>\n      </div>\n    );\n  };\n}\n\n", "import app from 'apprun';\nimport Layout from './layout'\n\ndocument.addEventListener('click', (e) => {\n  app.run('@document-click', e);\n});\n\nexport default () => {\n  app.render(document.getElementById('root'), <Layout />);\n}\n\n", "import app from 'apprun';\nimport main from '../pages/main';\nexport default main;\nmain();\n\nconst get_element = (path) => {\n  const paths = path.split('/').filter(p => !!p);\n  paths.pop();\n  let element_id = !paths.length ? 'main' : paths.join('-');\n  element_id += '-app';\n  const el = document.getElementById(element_id);\n  console.assert(!!el, `${element_id} not found, component will display`);\n  return element_id;\n};\n\nconst handlerPromises = new Map();\nconst resolvePromise = (path: string) => {\n  const deferred = handlerPromises.get(path);\n  if (deferred) {\n    deferred.resolve();\n    handlerPromises.delete(path);\n  }\n}\nconst add_component = (path, site_url) => {\n  const file = path === '/' ? '/index.js' : path + '/index.js';\n  app.once(path, async () => {\n    const timestamp = Date.now();\n    \n    const module = await import(`${site_url}${file}`);\n    const exp = module.default;\n    if (exp.prototype && exp.prototype.constructor.name === exp.name) {\n      const component = new module.default();\n      if (component.state instanceof Promise) {\n        component.state = await component.state;\n      }\n      const rendered = component.rendered;\n      component.rendered = (...p) => {\n        rendered && rendered(...p);\n        resolvePromise(path);\n      }\n      component.start(get_element(path), { route: path });\n    } else {\n      const start = async (...p) => {\n        const vdom = await exp(...p);\n        const element_id = get_element(path);\n        const el = document.getElementById(element_id);\n        app.render(el, vdom);\n        resolvePromise(path);\n      };\n      await start();\n      app.on(path, start);\n    }\n    resolvePromise(path);\n  });\n};\nconst components = [\"/\",\"/prompts\"];\nconst route = async (path) => {\n  if (path === '/') {\n    app.run('/');\n    return;\n  }\n  const paths = path.split('/').filter(p => !!p);\n  let routed = false;\n  for (let i=0; i<paths.length; i++) {\n    const current = '/' + paths.slice(0, i+1).join('/');\n    const component = components.find(item => item === current);\n    if (component) {\n      routed = component === path;\n      let resolveFn;\n      const promise = new Promise((resolve) => {\n        resolveFn = resolve;\n      });\n      handlerPromises.set(current, { resolve: resolveFn });\n      app.run(current, ...paths.slice(i+1));\n      await promise;\n    }\n  }\n  console.assert(!!routed, `${path} can not be routed.`);\n};\n\napp.route = route;\nwindow.onload = async () => {\n  components.map(item => add_component(item, ''));\n  app.route(location.pathname);\n};\ndocument.body.addEventListener('click', e => {\n  const element = e.target as HTMLElement;\n  const menu = (element.tagName === 'A' ? element : element.closest('a')) as HTMLAnchorElement;\n  if (menu &&\n    menu.origin === location.origin && menu.pathname.startsWith('/')) {\n    e.preventDefault();\n    history.pushState(null, '', menu.href);\n    app.run('//');\n    app.route(menu.pathname);\n  }\n});\n"],
  "mappings": "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",
  "names": ["main_default"]
}
